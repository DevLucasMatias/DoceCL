<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Brigadeiros Gourmet - Painel de Controle</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>
</head>
<body>
    <header class="banner">
        <div class="banner-overlay">
            <h1>Brigadeiros Gourmet <i class="fas fa-birthday-cake"></i></h1>
            <p>Lucas & Cleice</p>
        </div>
    </header>

    <div class="dashboard">
        <aside class="side-menu">
            <div class="logo">
                <h2>CL <i class="fas fa-cookie-bite"></i></h2>
            </div>
            <nav class="menu-tabs" role="tablist">
                <button class="tab active" data-tab="new-sale" role="tab" aria-selected="true" aria-controls="new-sale"><i class="fas fa-shopping-cart"></i> Nova Venda</button>
                <button class="tab" data-tab="sales-history" role="tab" aria-selected="false" aria-controls="sales-history"><i class="fas fa-history"></i> Histórico</button>
                <button class="tab" data-tab="expenses" role="tab" aria-selected="false" aria-controls="expenses"><i class="fas fa-money-bill"></i> Despesas</button>
            </nav>
        </aside>

        <main class="dashboard-content">
            <section id="new-sale" class="tab-content active" role="tabpanel" aria-hidden="false">
                <h2>Nova Venda <i class="fas fa-shopping-cart"></i></h2>
                <div class="product-showcase" id="produtos"></div>
                <div class="order-summary" id="venda-atual"></div>
                <form id="form-venda" class="order-form">
                    <h3>Dados do Cliente <i class="fas fa-user"></i></h3>
                    <input type="text" id="nome" placeholder="Nome" aria-label="Nome do cliente" aria-required="true" required />
                    <input type="tel" id="telefone" placeholder="Telefone" aria-label="Telefone do cliente" />
                    <input type="date" id="data" aria-label="Data da venda" aria-required="true" required />
                    <button type="submit">Registrar Venda <i class="fas fa-check"></i></button>
                </form>
            </section>

            <section id="sales-history" class="tab-content" role="tabpanel" aria-hidden="true">
                <h2>Histórico de Vendas <i class="fas fa-list"></i></h2>
                <div class="filter-bar">
                    <input type="text" id="filtro-cliente" placeholder="Cliente" aria-label="Filtrar por cliente" />
                    <input type="date" id="filtro-data-inicio" aria-label="Data inicial" />
                    <input type="date" id="filtro-data-fim" aria-label="Data final" />
                    <select id="filtro-status" aria-label="Filtrar por status">
                        <option value="">Todos os Status</option>
                        <option value="pago">Pago</option>
                        <option value="nao-pago">Não Pago</option>
                    </select>
                    <input type="text" id="filtro-produto" placeholder="Produto" aria-label="Filtrar por produto" />
                    <button id="export-data" class="filter-action">Exportar <i class="fas fa-download"></i></button>
                    <input type="file" id="import-data" accept=".json" style="display: none;" aria-label="Importar dados de vendas" />
                    <button id="import-data-btn" class="filter-action">Importar <i class="fas fa-upload"></i></button>
                    <!-- <button id="group-by-client" class="filter-action">Agrupar Dívidas por Cliente <i class="fas fa-users"></i></button> -->
                </div>
                <div class="sales-table" id="compradores"></div>
                <div class="sales-table" id="client-debts"></div>
            </section>

            <section id="expenses" class="tab-content" role="tabpanel" aria-hidden="true">
                <h2>Despesas <i class="fas fa-money-bill"></i></h2>
                <form id="form-despesa" class="expense-form">
                    <h3>Registrar Despesa <i class="fas fa-plus"></i></h3>
                    <select id="categoria-despesa" aria-label="Categoria da despesa" aria-required="true" required>
                        <option value="">Selecione a Categoria</option>
                        <option value="Uber">Uber</option>
                        <option value="Materiais">Materiais</option>
                        <option value="Outros">Outros</option>
                    </select>
                    <input type="text" id="descricao-despesa" placeholder="Descrição" aria-label="Descrição da despesa" aria-required="true" required />
                    <input type="number" id="valor-despesa" placeholder="Valor (R$)" step="0.01" min="0" aria-label="Valor da despesa" aria-required="true" required />
                    <input type="date" id="data-despesa" aria-label="Data da despesa" aria-required="true" required />
                    <button type="submit">Registrar Despesa <i class="fas fa-check"></i></button>
                </form>
                <div class="filter-bar">
                    <input type="text" id="filtro-despesa-categoria" placeholder="Categoria" aria-label="Filtrar por categoria de despesa" />
                    <input type="date" id="filtro-despesa-data-inicio" aria-label="Data inicial da despesa" />
                    <input type="date" id="filtro-despesa-data-fim" aria-label="Data final da despesa" />
                    <input type="text" id="filtro-despesa-descricao" placeholder="Descrição" aria-label="Filtrar por descrição da despesa" />
                    <button id="export-expenses" class="filter-action">Exportar <i class="fas fa-download"></i></button>
                    <input type="file" id="import-expenses" accept=".json" style="display: none;" aria-label="Importar dados de despesas" />
                    <button id="import-expenses-btn" class="filter-action">Importar <i class="fas fa-upload"></i></button>
                </div>
                <canvas id="expense-chart" style="max-height: 300px; margin-bottom: 20px;"></canvas>
                <div class="sales-table" id="despesas"></div>
            </section>
        </main>
    </div>

    <div id="modal-confirmacao" class="modal" role="dialog" aria-labelledby="modal-venda-title">
        <div class="modal-content">
            <h3 id="modal-venda-title">Confirmação de Venda <i class="fas fa-thumbs-up"></i></h3>
            <div id="modal-venda-detalhes"></div>
            <button id="confirmar-venda" class="modal-action">Confirmar <i class="fas fa-check"></i></button>
            <button id="cancelar-venda" class="modal-action cancel">Cancelar <i class="fas fa-times"></i></button>
        </div>
    </div>

    <div id="modal-confirmacao-despesa" class="modal" role="dialog" aria-labelledby="modal-despesa-title">
        <div class="modal-content">
            <h3 id="modal-despesa-title">Confirmação de Despesa <i class="fas fa-money-bill"></i></h3>
            <div id="modal-despesa-detalhes"></div>
            <button id="confirmar-despesa" class="modal-action">Confirmar <i class="fas fa-check"></i></button>
            <button id="cancelar-despesa" class="modal-action cancel">Cancelar <i class="fas fa-times"></i></button>
        </div>
    </div>

    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>